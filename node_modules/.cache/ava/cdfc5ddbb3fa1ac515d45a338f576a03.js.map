{"version":3,"sources":["contact.js"],"names":["pgtest","require","rewire","myModule","expect","returning","pgMock","connect","url","cb","err","client","done","query","data","__set__","t","is","getContacts"],"mappings":";;AAAA;;;;;;;;AAEA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,WAAWD,OAAO,sBAAP,CAAf;;AAEAF,OAAOI,MAAP,CAAc,oDAAd,EAAoEC,SAApE,CAA8E,IAA9E,EAAmF,CAAC,CAAE,MAAF,EAAU,OAAV,CAAD,EAAqB,CAAE,OAAF,EAAW,MAAX,CAArB,CAAnF;;AAEA,IAAIC,SAAS;AACTC,aAAU,UAASC,GAAT,EAAaC,EAAb,EAAgB;AACtBT,eAAOO,OAAP,CAAe,KAAf,EAAsB,UAAUG,GAAV,EAAeC,MAAf,EAAuBC,IAAvB,EAA6B;AAC/CD,mBAAOE,KAAP,CAAa,oDAAb,EAAmE,UAAUH,GAAV,EAAeI,IAAf,EAAqB;AACxFF;AACH,aAFG;AAGP,SAJG;AAKH;AAPQ,CAAb;;AAWAT,SAASY,OAAT,CAAiB,IAAjB,EAAuBT,MAAvB;;AAEA,mBAAK,cAAL;AAAA,iCAAqB,WAAMU,CAAN,EAAW;AAC9BA,UAAEC,EAAF,CAAKd,SAASe,WAAT,CAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,CAAL,EAA2C,EAA3C;AACD,KAFD;;AAAA;AAAA;AAAA;AAAA","file":"contact.js","sourcesContent":["import test from 'ava';\r\n\r\nvar pgtest = require('pgtest');\r\nvar rewire = require(\"rewire\");\r\nvar myModule = rewire(\"../models/contact.js\");\r\n\r\npgtest.expect('SELECT firstname, lastname FROM salesforce.contact').returning(null,[[ 'John', 'Rambo' ],[ 'Clark', 'Kent' ]]);\r\n\r\nvar pgMock = {\r\n    connect : function(url,cb){\r\n        pgtest.connect('foo', function (err, client, done) {\r\n            client.query('SELECT firstname, lastname FROM salesforce.contact', function (err, data) {\r\n            done();\r\n        });\r\n    });\r\n    }\r\n};\r\n\r\n\r\nmyModule.__set__(\"pg\", pgMock);\r\n\r\ntest('get contacts', async t => {\r\n  t.is(myModule.getContacts(null,null,null), '');\r\n});"]}